import{a as N,x as T,r as d,M as V,v as n,f as u,a8 as B,aa as A,h as m,g as o,F as L,A as z,j as P,J as E,bu as J,s as M,$ as _,H as O,o as i,n as w,k as R,K as U,t as $,I as y,a9 as K,bv as Q,O as j,P as F,B as H}from"./app-Ou2Nwfl4.js";import{u as q}from"./resultUIStore-Gx6nnudn.js";import"./constants-DgoLmzql.js";import{b as G,D as C}from"./DatabaseType-Ctki5lK6.js";import"./wrapper-B1QxbmBO.js";import"./viewUtil-DCbZMcCo.js";import"./arrayUtil-CJo8CZg1.js";import"./objectUtil-Z6JRxuBJ.js";const W="data:image/svg+xml,%3csvg%20height='20'%20width='20'%20viewBox='-11.9%20-2%201003.9%20995.6'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12.1%20353.9s-24-17.3%204.8-40.4l67.1-60s19.2-20.2%2039.5-2.6l619.2%20468.8v224.8s-.3%2035.3-45.6%2031.4z'%20fill='%232489ca'%20/%3e%3cpath%20d='m171.7%20498.8-159.6%20145.1s-16.4%2012.2%200%2034l74.1%2067.4s17.6%2018.9%2043.6-2.6l169.2-128.3z'%20fill='%231070b3'%20/%3e%3cpath%20d='m451.9%20500%20292.7-223.5-1.9-223.6s-12.5-48.8-54.2-23.4l-389.5%20354.5z'%20fill='%230877b9'%20/%3e%3cpath%20d='m697.1%20976.2c17%2017.4%2037.6%2011.7%2037.6%2011.7l228.1-112.4c29.2-19.9%2025.1-44.6%2025.1-44.6v-671.2c0-29.5-30.2-39.7-30.2-39.7l-197.7-95.3c-43.2-26.7-71.5%204.8-71.5%204.8s36.4-26.2%2054.2%2023.4v887.5c0%206.1-1.3%2012.1-3.9%2017.5-5.2%2010.5-16.5%2020.3-43.6%2016.2z'%20fill='%233c99d4'%20/%3e%3c/svg%3e",b=c=>(j("data-v-0c9a2e4e"),c=c(),F(),c),X={id:"tableTab",class:"tab"},Y=["onClick"],Z=b(()=>o("img",{src:W,alt:"VSCode Logo"},null,-1)),ee=[Z],te=["title"],se=b(()=>o("i",{class:"codicon-history"},null,-1)),oe=[se],ie=b(()=>o("i",{class:"codicon-json text-yellow"},null,-1)),ae=[ie],le=N({__name:"Main",setup(c){const h=J(),f=q(),S=T(),v=d(null),r=d(!1),a=d("result"),x=d([{id:"design",i18n:"table.design",icon:"codicon-edit",disabled:()=>!r.value},{id:"result",i18n:"table.data",icon:"codicon-database blue"},{id:"log",i18n:"common.output",icon:"codicon-file"},{id:"erDiagram",i18n:"table.erDiagram",icon:"codicon-symbol-class yellow",disabled:()=>!r.value||G(v.value)},{id:"status",i18n:"table.monitor",icon:"codicon-graph-line",disabled:()=>[C.SQLITE,C.DUCK_DB].includes(v.value)}]),p=t=>{typeof t=="string"&&(t={id:t});const{id:s,disabled:l}=t;l!=null&&l()||a.value!==s&&(a.value=s,h.push(s),s=="log"&&n.emit("initTerminal"))};V(()=>{a.value=h.currentRoute.value.name,window.addEventListener("message",({data:t})=>{["RUN","DATA"].includes(t.type)&&!["design","result","erDiagram"].includes(a.value)&&p("result")}),n.on("table_info",({singleTable:t,dbType:s})=>{v.value=s,r.value=t,r.value||p("result")})});const k=()=>{n.emit("editInVSCode",f.toolbar.sql)},D=()=>{if(!S.isPay)return M(_("plan.premiumNotice"));n.emit("viewJSON")};return(t,s)=>{const l=O("router-view");return i(),u("div",null,[B(o("ul",X,[(i(!0),u(L,null,z(x.value,(e,I)=>{var g;return i(),u("li",{key:I,class:w(["tab__item",{"tab__item--active":a.value==e.id,disabled:(g=e.disabled)==null?void 0:g.call(e)}]),onClick:ne=>p(e)},[e.icon?(i(),u("i",{key:0,type:"icon",class:w(e.icon),style:{position:"relative",top:"3px"}},null,2)):R("",!0),U(" "+$(m(_)(e.i18n)),1)],10,Y)}),128)),o("div",{class:"panel-icon !pl-2",title:"Edit in VSCode",style:{"border-left":"1px solid var(--border-color)"},onClick:k},ee),o("div",{class:"panel-icon",title:m(_)("table.history"),style:{"margin-left":"3.5px"},onClick:s[0]||(s[0]=e=>m(n).emit("viewHistory"))},oe,8,te),o("div",{class:"panel-icon",title:"View As JSON",onClick:D},ae)],512),[[A,m(f).showSQLPanel]]),P(l,null,{default:E(({Component:e})=>[(i(),y(Q,null,[(i(),y(K(e)))],1024))]),_:1})])}}}),be=H(le,[["__scopeId","data-v-0c9a2e4e"]]);export{be as default};
